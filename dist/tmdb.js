/**
* tmdbjs - Javascript wrapper for The movie database API
* @version v0.1.0
* @author Gabriel Perales (http://gabriel.perales.me)
* @license MIT
*/
!function(e,t){"use strict";"object"==typeof exports?module.exports=t(require("xmlhttprequest").XMLHttpRequest):"function"==typeof define&&define.amd?define(["XMLHttpRequest"],t):e.tmdb=t(XMLHttpRequest)}(this,function(){"use strict";function e(t){function n(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e}return Object.keys(t).map(function(i){var o=t[i];return t.hasOwnProperty(i)?n(o)?e(o):i+"="+encodeURIComponent(o):void 0}).join("&")}var t=function(){function t(e){return y=e.apikey,w=e.debug?!0:!1,this}function n(e){var t="configuration";L(t,null,e)}function i(e){var t="movie/upcoming";L(t,null,e)}function o(e){var t="movie/now_playing";L(t,null,e)}function r(e){var t="movie/latest";L(t,null,e)}function u(e){var t="movie/top_rated";L(t,null,e)}function a(e){var t="movie/popular";L(t,null,e)}function v(e,t){var n="movie/"+e;L(n,null,t)}function c(e,t){var n="movie/"+e+"/similar";L(n,null,t)}function s(e,t){var n="movie/"+e+"/credits";L(n,null,t)}function f(e,t){var n="movie/"+e+"/images";L(n,null,t)}function l(e,t){var n="movie/"+e+"/keywords";L(n,null,t)}function p(e,t){var n="movie/"+e+"/videos";L(n,null,t)}function m(e,t){var n="movie/"+e+"/reviews";L(n,null,t)}function g(e,t){var n="movie/"+e+"/rating";L(n,null,t)}function d(e,t){var n="search/multi";L(n,e,t)}function M(e,t){var n="search/movie";L(n,e,t)}var y,h="http://api.themoviedb.org/3/",w=!1,R=function(t,n){var i=h+t;return n=n||{},n.api_key=y,n=e(n),i+="?"+n},b=function(){return"GET"},q=function(e,t){var n=JSON.parse(t.responseText);return n.data&&(n=n.data),n},L=function(e,t,n){var i=XMLHttpRequest?new XMLHttpRequest({mozSystem:!0}):new window.ActiveXObject("Microsoft.XMLHTTP"),o=b.call(this,e),r=R(e,t);i.open(o,r,!0),i.onreadystatechange=function(){if(4===i.readyState&&i.status<400){var t=q(e,i);"function"==typeof n&&n(null,t)}},i.onerror=function(e){"function"==typeof n&&n(e)},i.send()};return{init:t,getConfiguration:n,getMoviesUpcoming:i,getMoviesNowPlaying:o,getMoviesTopRated:u,getMoviesPopular:a,getMovie:v,getMovieLatest:r,getMoviesSimilarTo:c,getMovieCredits:s,getMovieImages:f,getMovieKeywords:l,getMovieVideos:p,getMovieReviews:m,getMovieRating:g,search:d,searchMovie:M}}();return t});