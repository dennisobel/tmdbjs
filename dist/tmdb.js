/**
* tmdbjs - Javascript wrapper for The movie database API
* @version v0.1.0
* @author Gabriel Perales (http://gabriel.perales.me)
* @license MIT
*/
!function(e,t){"use strict";"object"==typeof exports?module.exports=t(require("xmlhttprequest").XMLHttpRequest):"function"==typeof define&&define.amd?define(["XMLHttpRequest"],t):e.tmdb=t(XMLHttpRequest)}(this,function(){"use strict";function e(t){var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push("[object Object]"!==Object.prototype.toString.call(t[i])?i+"="+t[i]:e(t[i]));return n.join("&")}var t=function(){function t(e){return d=e.apikey,y=e.debug?!0:!1,this}function n(e){var t="configuration";R(t,null,e)}function i(e){var t="movie/upcoming";R(t,null,e)}function o(e){var t="movie/now_playing";R(t,null,e)}function r(e){var t="movie/latest";R(t,null,e)}function u(e){var t="movie/top_rated";R(t,null,e)}function a(e){var t="movie/popular";R(t,null,e)}function v(e,t){var n="movie/"+e;R(n,null,t)}function c(e,t){var n="movie/"+e+"/similar";R(n,null,t)}function s(e,t){var n="movie/"+e+"/credits";R(n,null,t)}function l(e,t){var n="movie/"+e+"/images";R(n,null,t)}function f(e,t){var n="movie/"+e+"/keywords";R(n,null,t)}function p(e,t){var n="movie/"+e+"/videos";R(n,null,t)}function g(e,t){var n="movie/"+e+"/reviews";R(n,null,t)}function m(e,t){var n="movie/"+e+"/rating";R(n,null,t)}var d,M="http://api.themoviedb.org/3/",y=!1,w=function(t,n){var i=M+t;return n=n||{},n.api_key=d,n=e(n),i+="?"+n},h=function(){return"GET"},b=function(e,t){var n=JSON.parse(t.responseText);return n.data&&(n=n.data),n},R=function(e,t,n){var i=XMLHttpRequest?new XMLHttpRequest({mozSystem:!0}):new window.ActiveXObject("Microsoft.XMLHTTP"),o=h.call(this,e),r=w(e,t);i.open(o,r,!0),i.onreadystatechange=function(){if(4===i.readyState&&i.status<400){var t=b(e,i);"function"==typeof n&&n(null,t)}},i.onerror=function(e){"function"==typeof n&&n(e)},i.send()};return{init:t,getConfiguration:n,getMoviesUpcoming:i,getMoviesNowPlaying:o,getMoviesTopRated:u,getMoviesPopular:a,getMovie:v,getMovieLatest:r,getMoviesSimilarTo:c,getMovieCredits:s,getMovieImages:l,getMovieKeywords:f,getMovieVideos:p,getMovieReviews:g,getMovieRating:m}}();return t});